(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{194:function(t,a,s){"use strict";s.r(a);var e=s(7),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"react"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react"}},[t._v("#")]),t._v(" React")]),t._v(" "),s("h5",{attrs:{id:"cnpm-i-react-react-dom-s"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cnpm-i-react-react-dom-s"}},[t._v("#")]),t._v(" cnpm i react react-dom -S")]),t._v(" "),s("h3",{attrs:{id:"优点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优点"}},[t._v("#")]),t._v(" 优点：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("jsx执行更快，js的优化")])]),t._v(" "),s("li",[s("p",[t._v("更安全，可以及时发现错误，停止编译")])]),t._v(" "),s("li",[s("p",[t._v("编写简单快速 ，vue除外")])])]),t._v(" "),s("h3",{attrs:{id:"理解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#理解"}},[t._v("#")]),t._v(" 理解")]),t._v(" "),s("p",[t._v("index.js是入口文件，引入App.js , 把App.js 这个地位最大的组件render到名为root 的div中")]),t._v(" "),s("p",[t._v("App.js 定义路由什么的，还不知道干嘛的")]),t._v(" "),s("p",[t._v("setState 异步更新状态，等别人执行完才能更新")]),t._v(" "),s("h4",{attrs:{id:"相比vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相比vue"}},[t._v("#")]),t._v(" 相比vue")]),t._v(" "),s("p",[t._v("v-if v-for 都需要自己实现")]),t._v(" "),s("h4",{attrs:{id:"原理-核心"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原理-核心"}},[t._v("#")]),t._v(" 原理-核心")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('当行不需要括号，且只能有一个根标签\nlet element = (\n  <h2></h2>\n)\nlet root = document.getElementById("root")\n// 渲染\nReactDOM.render(element,root)\n')])])]),s("h5",{attrs:{id:"安装babel插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装babel插件"}},[t._v("#")]),t._v(" 安装babel插件")]),t._v(" "),s("div",{staticClass:"language-0 extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('cnpm i babel-core babel-loader babel-plugin-transform-runtime -D\ncnpm i babel-preset-env\tbabel-preset-stage-0 -D\n//识别转化jsx语法的包\ncnpm i babel-preset-react -D\n//配置webpack.config.js\nmodule exports = {\n  ...\n  module：{//第三方模块\n    rules:[//第三方匹配规则\n    {test：/\\.js|jsx$/,use:\'babel-loader\',exclude:/node_modules/}\n    ]\n  }\n}\n//添加.babelrc配文件\n{\n"presets":["env","stage-0","react"],\n"plugins":["transform-runtime"]\n}\n')])])]),s("h5",{attrs:{id:"创建组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建组件"}},[t._v("#")]),t._v(" 创建组件")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('//同级\nfunction Component1(props){\n\treturn (\n\t<li key={props.index}></li>\n\t)\n}\n//独立\nclass App extends Component {\n  constructor(props) {\n  super(props);this.state = {};}\n  render() {\n    return (<div className="App"></div>);}\n}\nexport default App;\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("import Hello from './components/Hello.jsx'//后缀名需要配置后才可以省略\n")])])]),s("h5",{attrs:{id:"webpack-config-js配置省略文件名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-config-js配置省略文件名"}},[t._v("#")]),t._v(" webpack.config.js配置省略文件名")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("module。exports = {\n  ...\n  resolve:{\n  extensions:['.js','.jsx','.json'],\n  alias:{\n    \"@\": path.join(__dirname,'./src')\n    }\n  }\n}\n")])])]),s("h5",{attrs:{id:"class基础用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#class基础用法"}},[t._v("#")]),t._v(" class基础用法")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("class Animal (){\n  //构造器不写默认也有，就是空的而已\n  //new的时候先执行构造器，new可以把里面的属性点出来\n  constructor(name,age){\n    this.name = name\n    this.age = age\n  }\n  //静态属性(new 的点不出来)\n  static info = 'eee'\n}\nconst a1 = new Animal('大黄'，3)\n")])])]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("npm install "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g create"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("react"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("app\ncreate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("react"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("app mydemo\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// \t进入项目")]),t._v("\ncd mydemo\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\t运行项目")]),t._v("\nnpm start "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" yarn start\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\t生成项目")]),t._v("\nnpm run build "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" yarn build\n")])])]),s("h3",{attrs:{id:"create-react-app慢的解决方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-react-app慢的解决方法"}},[t._v("#")]),t._v(" create-react-app慢的解决方法")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm config set registry https://registry.npm.taobao.org\n-- 配置后可通过下面方式来验证是否成功\nnpm config get registry\n-- 或npm info express\n")])])]),s("h3",{attrs:{id:"创建组件src-components-home-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建组件src-components-home-js"}},[t._v("#")]),t._v(" 创建组件src-components-Home.js")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" // 相当于vue的data(){}\n  constructor(props) {\n    // props父子传值\n    super(props); // 继承\n    this.state = { name: \"Tom\", age: 18 },\n    this.fun2 = this.fun2.bind(this)\n  },\n  // 三种方法--this\n  fun1(){方法里的this，不是外面那个this},\n  fun2(){方法里的this，不是外面那个this},\n  fun3 = () =>{\n  \tthis.setState({ })\n  },  \n  fun4=(str)=>{\n  \tthis.setState({ msg:str })\n  }, \n  // 相当于vue的《template》\n  render() \n    return \n      <div>\n\t\t\t\t<button onClick={this.fun1.bind(this)}></button>\n\t\t\t\t<button onClick={this.fun2}></button>\n\t\t\t\t<button onClick={this.fun3}></button>\n  \t\t\t// 箭头函数可写bind,如果是在遍历里面的话需要bind,因为this指向\n\t\t\t\t<button onClick={this.fun4('zs')}></button>\n\t\t\t\t<button onClick={this.fun4.bind(this,'zs')}></button>\n      </div>\n")])])]),s("h3",{attrs:{id:"绑定属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绑定属性"}},[t._v("#")]),t._v(" 绑定属性")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('this.state = {\n  style:{\n    color:\'red\'\n  }\n}\nreturn(\n<div style={{"color":"red"}}></div>\n<div style={this.state.style}></div>\n)\n')])])]),s("h3",{attrs:{id:"img"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#img"}},[t._v("#")]),t._v(" img")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("import logo from './...'\n<img src=\"http.....\"></img>\n<img src={require('./...')}></img>\n<img src={logo}></img>\n")])])]),s("h3",{attrs:{id:"遍历"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遍历"}},[t._v("#")]),t._v(" 遍历")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("list=[{title:'11'},{title:'22'}]\n{\n  this.stata.list.map((v,i) =>{\n    return (<li key={i}>{v.title}</li>)\n  })\n}\n")])])]),s("h3",{attrs:{id:"标签传值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标签传值"}},[t._v("#")]),t._v(" 标签传值")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<aid = \"666\">\nfunction(e){\ne.target.getAttribute('aid')\n}\n")])])]),s("h3",{attrs:{id:"ref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ref"}},[t._v("#")]),t._v(" ref")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('< ref="one">\nthis.refs.one\n')])])]),s("h3",{attrs:{id:"单向绑定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单向绑定"}},[t._v("#")]),t._v(" 单向绑定")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("this.state = {}\n<input defaultValue={this.state.msg}></input>\n")])])]),s("h3",{attrs:{id:"双向数据绑定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#双向数据绑定"}},[t._v("#")]),t._v(" 双向数据绑定")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("this.state = {}\ninputChange=()=>{}\n<input value={this.state.msg} onChange={this.inputChange}></input>\n")])])]),s("h3",{attrs:{id:"阻止form表单提交事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#阻止form表单提交事件"}},[t._v("#")]),t._v(" 阻止form表单提交事件")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('handleSubmit=(e)=>{\n  e.preventDefault();\n}\n<form onSubmit={this.handleSubmit}>\n<input type="text"></input>\n<input type="submit" defaultValue="提交"></input>\n</form>\n')])])]),s("h3",{attrs:{id:"生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("1触发构造函数\nshouldComponentUpdate(){return true}\n2页面将要加载(不用了)\ncomponentWIllMount(){}\n3页面加载时触发\ncomponentDidMount(){}\n4页面将销毁时   举例:提示你是否保存\ncomponentWillUnmount() { }\n")])])]),s("h3",{attrs:{id:"事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),s("h4",{attrs:{id:"键盘事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#键盘事件"}},[t._v("#")]),t._v(" 键盘事件")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<onKeyUp={this.func} />\nfunc(e){\n  e.keyCode\n  e.preventDefault()\n}\n传参\n<onKeyUp={function(e){this.func("参数",e,1,2,3)}.bind(this)} />  //es5\n<onKeyUp={(e)=>this.func("参数",e)} />  //es6\nfunc(msg,e,a,b,c){\n  console.log(msg)\n  console.log(e)\n}\n')])])]),s("p",[t._v("列表渲染")]),t._v(" "),s("p",[t._v("for forEach map")]),t._v(" "),s("p",[t._v("map会返回数组")]),t._v(" "),s("h3",{attrs:{id:"传值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传值"}},[t._v("#")]),t._v(" 传值")]),t._v(" "),s("h4",{attrs:{id:"标签传值-传方法-传自己-父-子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标签传值-传方法-传自己-父-子"}},[t._v("#")]),t._v(" 标签传值 传方法  传自己 --父--\x3e子")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('父:\n< xxx={this.state.xxx}\n--fun1={this.fun1} \n--news(组件名)={this}\n/>\n子:\n--{this.props.xxx}\n--{this.props.fun1}\n--{this.props.news.funxx}\n--{this.props.news.funxx.bind(this,"传值")}\n')])])]),s("h4",{attrs:{id:"标签设值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标签设值"}},[t._v("#")]),t._v(" 标签设值")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//react")]),t._v("\nvalue"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"普通文本"')]),t._v("\nvalue"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Vue")]),t._v("\nvalue"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"普通文本"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"条件。。。"')]),t._v("\n")])])]),s("h4",{attrs:{id:"父调用子的方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父调用子的方法"}},[t._v("#")]),t._v(" 父调用子的方法")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('父:\n< ref="footer">\nthis.refs.footer.fun()\n')])])]),s("h4",{attrs:{id:"defaultprops-proptypes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#defaultprops-proptypes"}},[t._v("#")]),t._v(" defaultProps---PropTypes")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("父组件有传入props的话,用父组件的,没有就用默认参数\n<h2>--{this.props.title}--</h2>\nSon.defaultProps={\n\ttitle:\"标题\"\n}\n//porpsTypes验证合法性(子组件使用)\nimport PropTypes from 'prop-types'\nSon.propsTypes = {\n  title:PropTypes.string // number\n}\n")])])]),s("h4",{attrs:{id:"路由传值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由传值"}},[t._v("#")]),t._v(" 路由传值")]),t._v(" "),s("h5",{attrs:{id:"动态路由传值-match-params"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态路由传值-match-params"}},[t._v("#")]),t._v(" 动态路由传值---match.params")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("App.js配置\n<Route path='/content:aid' component={Content}></Route>\n父组件里\n<link to={`/content/${value.aid}`} ></link>\n子组件里--Content组件里获取aid\ncomponentDidMount(){\n  this.props.match.params.aid\n}\n")])])]),s("h5",{attrs:{id:"get传值-location-search"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get传值-location-search"}},[t._v("#")]),t._v(" get传值----location.search")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("App.js配置\n<Route path='/content' component={Content}></Route>\n父组件里\n<link to={`/content/?aid=${value.aid}`}></link>\n子组件里--Content组件里获取aid\ncomponentDidMount(){\n  this.props.location.search.aid   // ?aid=xxx需要解析\n}\ncnpm i url -S\nimport url from 'url'\nvar aid = url.parse( this.props.location.search.aid,true).query.aid\n")])])]),s("h3",{attrs:{id:"路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[t._v("#")]),t._v(" 路由")]),t._v(" "),s("h4",{attrs:{id:"路由配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由配置"}},[t._v("#")]),t._v(" 路由配置")]),t._v(" "),s("p",[t._v("Router下需要一个div包裹")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("exact")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("精确匹配")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("replace")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("替换当前路由，历史不记录被替换的")])]),t._v(" "),s("tr",[s("td",[t._v("Redirect")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("重定向组件")])]),t._v(" "),s("tr",[s("td",[t._v("redirect")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("改路由")])]),t._v(" "),s("tr",[s("td",[t._v("Switch")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("组件 只匹配一个路由")])])])]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('import { BrowserRouter as Router, Route, Link } from "react-router-dom";\n<Router basename="/base">\n  <div>\n  <Link to="/">首页</Link>\n    <div>\n      <Route path=\'/shop/add\' component={ShopAdd}></Route>\n    </div>\n  </div>\n</Router>\n')])])]),s("h4",{attrs:{id:"嵌套路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#嵌套路由"}},[t._v("#")]),t._v(" 嵌套路由")]),t._v(" "),s("p",[t._v("遍历时把自己小弟routes(children)传下去")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("return <Route key={key} exact path={route.path} render={props => <route.component {...props} routes={route.routes} />}\n />\n")])])]),s("h4",{attrs:{id:"路由跳转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由跳转"}},[t._v("#")]),t._v(" 路由跳转")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("this.props.history.replace('/')\n<Redirect to='/login' />\n")])])]),s("h3",{attrs:{id:"数据请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据请求"}},[t._v("#")]),t._v(" 数据请求")]),t._v(" "),s("h5",{attrs:{id:"axios不支持jsonp-需要用fetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#axios不支持jsonp-需要用fetch"}},[t._v("#")]),t._v(" axios不支持jsonp,需要用fetch")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("fetch('/users.json')\n\t//先转换\n  .then(function(response) {\n    return response.json()\n  })\n  //成功回调\n  .then(function(json) {\n    console.log('parsed json', json)\n  })\n  //失败回调\n  .catch(function(ex) {\n    console.log('parsing failed', ex)\n  })\n")])])]),s("h3",{attrs:{id:"webpack配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack配置"}},[t._v("#")]),t._v(" webpack配置")]),t._v(" "),s("p",[t._v("方法1:")]),t._v(" "),s("p",[t._v('点开package.json文件，可看到配置的命令是以 "react-scripts ***" 来执行，所以打开node_modules文件夹，找到react-scripts文件夹进去， config目录即是你需要找的webpack的配置文件，然后就自己去修改配置就好')]),t._v(" "),s("p",[t._v("方法二:")]),t._v(" "),s("p",[t._v("使用 create-react-app 创建的项目，默认情况下是看不到 webpack 相关的配置文件，我们需要给它暴露出来，使用下面命令即可")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm run eject\n")])])]),s("h3",{attrs:{id:"报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#报错"}},[t._v("#")]),t._v(" 报错：")]),t._v(" "),s("h4",{attrs:{id:"operation-not-permitted"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#operation-not-permitted"}},[t._v("#")]),t._v(" operation not permitted")]),t._v(" "),s("p",[t._v("解决：以管理员打开")]),t._v(" "),s("h4",{attrs:{id:"the-path-argument-must-be-of-type-string-received-undefined"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-path-argument-must-be-of-type-string-received-undefined"}},[t._v("#")]),t._v(' The "path" argument must be of type string. Received undefined')]),t._v(" "),s("p",[t._v("方法一:   (我试了,不行,他是npx报的错,应该不适用)")]),t._v(" "),s("p",[t._v("https://www.jianshu.com/p/460303a6ef38")]),t._v(" "),s("p",[t._v("博客原文：https://blog.yinaoxiong.cn/2018/08/19/fix-npx-erro.html")]),t._v(" "),s("p",[t._v("在使用Windows上使用较老版本的nodejs，如何我使用的v8.9其自带的npx的版本为9.7，在Windows上使用会存在：“Path must be a string. Received undefined”的错误。通过 GitHub 上的 issue 可以知道改问题已经在最新版的npx中解决了，可以通过npm手动升级到最新版解决。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i -g npx\n")])])]),s("p",[t._v("但是运行npx -v后我们发现还是老版本的npx在运行新下载的npx并没有生效，这就是Windows环境变量的锅了。")]),t._v(" "),s("h5",{attrs:{id:"原因"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[t._v("#")]),t._v(" 原因:")]),t._v(" "),s("p",[t._v("安装node时node的安装目录是在系统变量的path中，而node全局安装包的目录是在用户的path中，系统查询可执行文件的属性是  **先查询系统path变量，然后再查询用户path变量。**所以node安装目录下的npx就覆盖了node全局安装目录下的npx。")]),t._v(" "),s("h5",{attrs:{id:"解决方法是"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方法是"}},[t._v("#")]),t._v(" 解决方法是:")]),t._v(" "),s("p",[t._v('把用户变量下path中node全局安装的路径复制到系统变量的path中。（如果自己没有修改过node全局安装目录的话这个路径一般是："C:\\Users{your_user_name}\\AppData\\Roaming\\npm"),')]),t._v(" "),s("p",[t._v("注意"),s("strong",[t._v("一定要把这个路径放在node安装目录前面")]),t._v("，因为查找是从上到下查找的。之后就可以开心的使用npx了。")]),t._v(" "),s("h5",{attrs:{id:"另一个办法-好像也不行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#另一个办法-好像也不行"}},[t._v("#")]),t._v(" 另一个办法: (好像也不行)")]),t._v(" "),s("p",[t._v("https://www.e-learn.cn/content/qita/2012187")]),t._v(" "),s("p",[t._v("//webpack.config.js")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("plugins: [\n    new HtmlWebpackPlugin({\n        title: 'use plugin',\n        filename: 'index.html'\n    })\n]\n")])])]),s("p",[t._v("方法三:")]),t._v(" "),s("p",[t._v("重新create-react-app 一个新项目, 搬运src文件夹和package.json")]),t._v(" "),s("h4",{attrs:{id:"ant-按需引入-报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ant-按需引入-报错"}},[t._v("#")]),t._v(" ant 按需引入 报错")]),t._v(" "),s("p",[t._v("降级处理")]),t._v(" "),s("p",[t._v("cnpm i react-app-rewired@2.0.2-next.0 --save-dev")]),t._v(" "),s("h3",{attrs:{id:"按需打包antd-的css"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#按需打包antd-的css"}},[t._v("#")]),t._v(" 按需打包antd 的css")]),t._v(" "),s("p",[t._v("https://ant-design.gitee.io/docs/react/use-with-create-react-app-cn")]),t._v(" "),s("p",[t._v("下载依赖包")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yarn add react-app-rewired customize-cra babel-plugin-import\n")])])]),s("p",[t._v("config-overrides.js")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const { override, fixBabelImports, addLessLoader } = require('customize-cra');\nmodule.exports = override(\n  fixBabelImports('import', {\n    libraryName: 'antd',\n    libraryDirectory: 'es',\n    style: true,\n  }),\n  addLessLoader({\n    javascriptEnabled: true,\n    modifyVars: { '@primary-color': '#1DA57A' },\n  }),\n);\n")])])]),s("p",[t._v("更改 package.json")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* package.json */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n-   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-scripts start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n+   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-app-rewired start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n-   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-scripts build"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n+   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-app-rewired build"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n-   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-scripts test"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n+   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-app-rewired test"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"使用pm2管理应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用pm2管理应用"}},[t._v("#")]),t._v(" 使用pm2管理应用")]),t._v(" "),s("p",[t._v("安装命令：npm i pm2 -g\n启动项目：pm2 start app.js --name 自定义名称\n查看列表：pm2 ls\n重启项目：pm2 restart 自定义名称\n停止项目：pm2 stop 自定义名称\n删除项目：pm2 delete 自定义名称")]),t._v(" "),s("h3",{attrs:{id:"解决跨越"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决跨越"}},[t._v("#")]),t._v(" 解决跨越")]),t._v(" "),s("p",[t._v("package.json里加个代理人,适用于开发模式")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"proxy":"http://localhost:5000"\n')])])]),s("p",[t._v("baseURL那边也要写："),s("code",[t._v('baseURL = ""')])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('//解决ajax跨域问题\n  res.append("Access-Control-Allow-Origin", "*")\n  res.append("Access-Control-Allow-content-type", "*")\n')])])]),s("h3",{attrs:{id:"antd开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#antd开发"}},[t._v("#")]),t._v(" antd开发")]),t._v(" "),s("h4",{attrs:{id:"form"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#form"}},[t._v("#")]),t._v(" Form")]),t._v(" "),s("p",[t._v("getFieldDecorator修饰验证")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\ngetFieldDecorator(\'password\', {\nrules: [{ validator: this.validatePwd }],})\n(<Input\n  prefix={<Icon type="lock" style={{ color: \'rgba(0,0,0,.25)\' }} />}\n  type="password"\n  placeholder="密码"\n/>)\n}\n')])])]),s("h5",{attrs:{id:"验证规则rules写法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证规则rules写法"}},[t._v("#")]),t._v(" 验证规则rules写法")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("一\nrules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" required"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" whitespace"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入密码!'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" min"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'最少4位!'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" max"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'最多12位!'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" pattern"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^[a-zA-Z0-9_]+$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'用户名必须是英文字母、数字或下划线组成!'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n二\nrules"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" validator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("validatePwd "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自定义验证规则")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("validatePwd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("rule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入密码'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'密码长度必须大于6位'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'密码长度不能大于12位'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^[a-zA-Z0-9_]+$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'密码必须是英文字母、数字或下划线组成'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h5",{attrs:{id:"暴露组件需要包装-包装后组件新增location-match-history属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#暴露组件需要包装-包装后组件新增location-match-history属性"}},[t._v("#")]),t._v(" 暴露组件需要包装，包装后组件新增location match history属性")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("不暴露原来组件Login，暴露新输出的的\n// 包装Login 输入特定的值,输出一个强大的对象属性-from\nconst wrapLogin = Form.create()(Login)\nexport default wrapLogin;\n")])])]),s("h3",{attrs:{id:"react-插槽"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-插槽"}},[t._v("#")]),t._v(" React 插槽")]),t._v(" "),s("p",[t._v('给引用的子组件里面写标签，data-positon="header"')]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<Children>\n<div data-positon="header"></div>\n<div data-positon="content"></div>\n<div data-positon="footer"></div>\n</Children>\n')])])]),s("p",[t._v("子组件里面可以通过foreach判断条件添加对应插槽")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("this.props.children.forEach((v,i)=>{\nif(item.props['data-positon'] === header) {\nheaderDom = item \n}else if(item.props['data-positon'] === content) {\ncontentDom = item \n}else if(item.props['data-positon'] === footer) {\nfooterDom = item \n}\n})\n子组件里面内容\n<div>\n  {headerDom}\n  {headerDom}\n  {headerDom}\n</div\n")])])]),s("h3",{attrs:{id:"redux-数据管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redux-数据管理"}},[t._v("#")]),t._v(" redux--数据管理")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Store")]),t._v(" "),s("th",[t._v("数据仓库")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("State")]),t._v(" "),s("td",[t._v("数据")])]),t._v(" "),s("tr",[s("td",[t._v("Action")]),t._v(" "),s("td",[t._v("动作 触发改变的方法")])]),t._v(" "),s("tr",[s("td",[t._v("Dispatch")]),t._v(" "),s("td",[t._v("将动作触发成方法")])]),t._v(" "),s("tr",[s("td",[t._v("Reducer")]),t._v(" "),s("td",[t._v("函数 获取动作 改变数据 生成新的state")])])])]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('import Redux,{createStore} from \'redux\'\n// 创建仓库\nconst store = createStore(reducer) \n// 通过动作创建新的state\ncosnt reducer=function(state={num:0},action){\n  switch(action.type){\n    case "add":state.num ++;break;\n    case "decrement":state.num --;break;\n    default：return\n  }\n\treturn {...state}\n}\nfunction add(){\n  // 调用仓库的dispatch方法修改数据\n\tstore.dispatch({type:"add"})\n}\nfunction decrement(){\n  // 调用仓库的dispatch方法修改数据\n\tstore.dispatch({type:"decrement"})\n}\n// 监听修改 重新渲染\nstore.subscribe(()=>{\n  ReactDOM.render(<Counter></Counter/>,document.getElementById("root"))\n})\n// 数据获取\n{store.getState()}\n')])])]),s("h4",{attrs:{id:"react-redux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-redux"}},[t._v("#")]),t._v(" react-redux")]),t._v(" "),s("div",{staticClass:"language-react extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('import {Povider，connect} from \'react-redux\'\nclass Counter extends React.Component{\n\treder(){\n\t\tconst value = this.props.value;\n\t\tconst onAddClick = this.props.onAddClick\n\t}\n}\nconst\n addAction = { type: "add"}\n function reducer (state={num:0},action){\n switch(action.type){\n    case "add":state.num ++;break;\n    default：return\n  }\n\treturn {...state}\n }\nconst store = createStore(reducer)\n/ 修改state里的方法，映射到props\nfunction mapDispatchToProps(dispatch){\n  return {\n    onAddClick:()={dispatch(addAction)}\n}\n')])])]),s("h3",{attrs:{id:"echart不更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#echart不更新"}},[t._v("#")]),t._v(" Echart不更新")]),t._v(" "),s("p",[t._v("props和state最好别联系在一起，state的更新麻烦，因为"),s("code",[t._v("componentDidMount")]),t._v("方法只会执行一次，render时state不会更新，setState刷新的关键：")]),t._v(" "),s("ol",[s("li",[t._v("setState不会立刻改变React组件中state的值；")]),t._v(" "),s("li",[t._v("setState通过引发一次组件的更新过程来引发重新绘制；")]),t._v(" "),s("li",[t._v("多次setState函数调用产生的效果会合并。")])])])}),[],!1,null,null,null);a.default=n.exports}}]);