(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{190:function(t,a,s){"use strict";s.r(a);var e=s(7),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"微信小程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序"}},[t._v("#")]),t._v(" 微信小程序")]),t._v(" "),s("h2",{attrs:{id:"生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),s("p",[t._v("https://blog.csdn.net/weixin_43352901/article/details/108036086")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("onLoad")]),t._v(" "),s("th",[t._v("监听页面加载")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("onReady")]),t._v(" "),s("td",[t._v("监听页面初次渲染完成")])]),t._v(" "),s("tr",[s("td",[t._v("onShow")]),t._v(" "),s("td",[t._v("监听页面显示")])]),t._v(" "),s("tr",[s("td",[t._v("onHide")]),t._v(" "),s("td",[t._v("监听页面隐藏")])]),t._v(" "),s("tr",[s("td",[t._v("onUnload")]),t._v(" "),s("td",[t._v("监听页面卸载")])]),t._v(" "),s("tr",[s("td",[t._v("onPullDownRefresh")]),t._v(" "),s("td",[t._v("监听用户下拉动作")])]),t._v(" "),s("tr",[s("td",[t._v("onReachBottom")]),t._v(" "),s("td",[t._v("页面上拉触底事件的处理函数")])]),t._v(" "),s("tr",[s("td",[t._v("onShareAppMessage")]),t._v(" "),s("td",[t._v("用户点击右上角分享")])])])]),t._v(" "),s("h2",{attrs:{id:"遍历"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遍历"}},[t._v("#")]),t._v(" 遍历")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('//wx:for-item="newName" 可以把默认的item变为设置的newName，不设置默认item\n<view wx:for="{{list}}" wx:key="index">>\n  {{item.title}}\n</view>\n')])])]),s("h2",{attrs:{id:"data数据获取与更改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#data数据获取与更改"}},[t._v("#")]),t._v(" data数据获取与更改")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\nthis.data.xxx // 获取\nthis.setData({\nxxx:xxx\n}) // 更改\n")])])]),s("h2",{attrs:{id:"点击事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#点击事件"}},[t._v("#")]),t._v(" 点击事件")]),t._v(" "),s("blockquote",[s("p",[t._v("bind+事件: 冒泡")])]),t._v(" "),s("blockquote",[s("p",[t._v("catch+事件: 不冒泡")])]),t._v(" "),s("h2",{attrs:{id:"pages与components-函数的写法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pages与components-函数的写法"}},[t._v("#")]),t._v(" pages与components  函数的写法")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("页面.js  方法放在data同级\n组件.js  方法放在methods:{}里面\n")])])]),s("h2",{attrs:{id:"第三方框架"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第三方框架"}},[t._v("#")]),t._v(" 第三方框架")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("腾讯")]),t._v(" "),s("th",[t._v("wepy")]),t._v(" "),s("th",[t._v("类vue")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("美团")]),t._v(" "),s("td",[t._v("mpvue")]),t._v(" "),s("td",[t._v("类vue")])]),t._v(" "),s("tr",[s("td",[t._v("京东")]),t._v(" "),s("td",[t._v("taro")]),t._v(" "),s("td",[t._v("类react")])]),t._v(" "),s("tr",[s("td",[t._v("滴滴")]),t._v(" "),s("td",[t._v("chameleon")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",[t._v("uni-app")]),t._v(" "),s("td",[t._v("类vue")])])])]),t._v(" "),s("h2",{attrs:{id:"通用公式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通用公式"}},[t._v("#")]),t._v(" 通用公式")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("750rpx 乘上 (设计稿px与设计稿宽度px)的比值\n不能直接复制给width, 需要通过calc计算\ncalc(750rpx * 100 /page px)\n")])])]),s("h2",{attrs:{id:"vscode插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vscode插件"}},[t._v("#")]),t._v(" vscode插件")]),t._v(" "),s("h3",{attrs:{id:"使用less转wxss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用less转wxss"}},[t._v("#")]),t._v(" 使用less转wxss")]),t._v(" "),s("p",[t._v("easy less插件, \t设置里面添加")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('\n"less.compile":{\n\t"outExt": ".wxss"\n}\n')])])]),s("h2",{attrs:{id:"wxss定义变量与使用变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wxss定义变量与使用变量"}},[t._v("#")]),t._v(" wxss定义变量与使用变量")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("声明\n--themeColor: #bfa\n--xx\n引用\nvar(--themeColor)\nvar(--xx)\n")])])]),s("h2",{attrs:{id:"插件使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件使用"}},[t._v("#")]),t._v(" 插件使用")]),t._v(" "),s("h3",{attrs:{id:"wxparse"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wxparse"}},[t._v("#")]),t._v(" wxparse")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("、https"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("icindy"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("wxParse\t\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("、下载这个demo\t\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("、把demo里面的wxParse目录 拷贝到我们的项目里面\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.1")]),t._v("、在要用到的页面的js里面引入  wxParse下面的js（page前面引入）\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" WxParse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../wxParse/wxParse.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.2")]),t._v("、在要用到的方法里或者成功回调里使用\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" article "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<div>我是HTML代码</div>'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" that "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nWxParse"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wxParse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'article'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'html'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" article"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" that"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// WxParse.wxParse(bindName , type, data, target,imagePadding)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.bindName绑定的数据名(必填)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.type可以为html或者md(必填)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3.data为传入的具体数据(必填)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4.target为Page对象,一般为this(必填)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 5.imagePadding为当图片自适应是左右的单一padding(默认为0,可选)")]),t._v("\n")])])]),s("p",[t._v("5、可以在app.wxss引入 wxParse.wxss（第一行写就行）")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v('@import "wxParse/wxParse.wxss";\n')])])]),s("p",[t._v("6、模板 wxml引入下面代码")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" src"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你的路径/wxParse/wxParse.wxml"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template is"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wxParse"')]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{{wxParseData:article.nodes}}"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("j")]),t._v(" "),s("h2",{attrs:{id:"自定义组件-传值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义组件-传值"}},[t._v("#")]),t._v(" 自定义组件-传值")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\t新建components文件夹\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\t在components文件夹下面创建一个组件"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tabs"')]),t._v("文件夹，然后点击右键创建component\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json里注册组件"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"usingComponents"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tabs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../../components/Tabs/Tabs"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wxml使用组件\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Tabs myValue"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"233"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n自定义组件里设置类型和默认值\nproperties"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  myValue"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("666")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n自定义组件里引用\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("navigator url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{{myValue}}"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("myValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"传值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传值"}},[t._v("#")]),t._v(" 传值")]),t._v(" "),s("h3",{attrs:{id:"标签传值-父-子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标签传值-父-子"}},[t._v("#")]),t._v(" 标签传值  (父==>子)")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\n父组件:\n引用的子组件标签 里直接写 xxx=\"xxx\"\n\n子组件:\nproperties 里面接收\nproperties: {\n  //方法一:\n\txxx: { \n      type: String,\n      value: '', // 属性初始值（可选）、、\n   \t\t// 属性被改变时执行的函数（可选），也可以写成在methods段中定义的方法名字符串, 如:'_propertyChange'\n      observer: function(newVal, oldVal){} \n    }\n   // 方法二:简化的定义方式\n   myProperty2: String\n}\n")])])]),s("h3",{attrs:{id:"事件传值-子-父"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件传值-子-父"}},[t._v("#")]),t._v(" 事件传值 (子==>父)")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('\n父:相当于vue的@事件，bind === @\n<component-tag-name bindchildFn="fatherFn" />\n\x3c!-- 或者可以写成 --\x3e\n<component-tag-name bind:childFn="fatherFn" />\n\n子:相当于vue的this.$emit()\nthis.triggerEvent(\'childFn\', myEventDetail, myEventOption)\n\n//父.js\nfatherFn: function(e){\n  e.detail // 自定义组件触发事件时提供的detail对象\n}\n\n')])])]),s("h3",{attrs:{id:"父组件调用子组件的方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父组件调用子组件的方法"}},[t._v("#")]),t._v(" 父组件调用子组件的方法")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v('1、调用子组件的时候定义一个id，vue就是定义一个ref       \n\t<header id="header"></header>\n\t\n2、父组件获取子组件的实例   （类似于选择器）       \n\tvar header = this.selectComponent("#header")\n\n3、header.方法名\t--\x3e\t调用子组件里面的方法                 \n\theader.data.msg父组件里面直接获取子组件的数据\n')])])]),s("h4",{attrs:{id:"路由路径传值-xxx-xxx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由路径传值-xxx-xxx"}},[t._v("#")]),t._v(" 路由路径传值: /?xxx=xxx")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\n在目的页面.js \nonLoad: function (options) { console.log(options) }, \n")])])]),s("h4",{attrs:{id:"data-传值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#data-传值"}},[t._v("#")]),t._v(" data-传值")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<:xxx="xxx">\n获取\ne.currentTarget.dataset.xxx\n')])])]),s("h3",{attrs:{id:"传值总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传值总结"}},[t._v("#")]),t._v(" 传值总结")]),t._v(" "),s("p",[t._v('bind+事件名(平头写法)="事件名(驼峰)"'),s("br"),t._v("\nbind传值可 "),s("code",[t._v("e.detail")]),t._v(" 获取")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('\n#使用组件传值\n例子:传index\n//父给子传一个tabs数据 \n<Tabs tabs="{{tabs}}">\n//父.js: tabs: [],\n  \n//子.js: 通过this.triggerEvent调用父方法,把index交给他\nthis.triggerEvent(\'tabsItemChange\', { index })\n\n//父.js : 父通通过bind:上面那个方法,通过e.detail接收\n<Tabs tabs="{{tabs}}" bind:tabsItemChange="onTabsItemChange">\nonTabsItemChange(e) { const { index } = e.detail }\n')])])]),s("h2",{attrs:{id:"与vue区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#与vue区别"}},[t._v("#")]),t._v(" 与vue区别")]),t._v(" "),s("h3",{attrs:{id:"设置data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置data"}},[t._v("#")]),t._v(" 设置data")]),t._v(" "),s("p",[t._v("vue 直接 this.xxx = 就行")]),t._v(" "),s("p",[t._v("小程序通过 this.setData({    })设置")]),t._v(" "),s("p",[t._v("--可能因为--vue是data(){return{xxx}}的方式设置参数, 小程序是data:{ xxx : xxx}设置的")]),t._v(" "),s("p",[t._v("但小程序函数里使用data数据是通过this.data.xxx调用")]),t._v(" "),s("h3",{attrs:{id:"点击事件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#点击事件-2"}},[t._v("#")]),t._v(" 点击事件")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",[t._v("小程序")]),t._v(" "),s("th",[t._v("vue")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("点击事件")]),t._v(" "),s("td",[t._v('bindtap="fun"')]),t._v(" "),s("td",[t._v('@click="fun(a, b)"')])]),t._v(" "),s("tr",[s("td",[t._v("改变事件")]),t._v(" "),s("td",[t._v("bindchange='fun'")]),t._v(" "),s("td",[t._v("@change = 'fun'")])])])]),t._v(" "),s("p",[t._v('小程序不支持传参, 传参得在后面写data-自定义名字="'+t._s(t.参数)+'"')]),t._v(" "),s("p",[t._v("函数里面通过 e.currentTarget.dataset 获取")]),t._v(" "),s("h2",{attrs:{id:"一些坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一些坑"}},[t._v("#")]),t._v(" 一些坑")]),t._v(" "),s("h3",{attrs:{id:"scroll-y滚动失效"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scroll-y滚动失效"}},[t._v("#")]),t._v(" scroll-y滚动失效")]),t._v(" "),s("p",[t._v("page 设为 height:100%")]),t._v(" "),s("h2",{attrs:{id:"支持es7-async"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#支持es7-async"}},[t._v("#")]),t._v(" 支持ES7 async")]),t._v(" "),s("p",[t._v("https://github.com/facebook/regenerator/blob/master/packages/regenerator-runtime/runtime.js")]),t._v(" "),s("p",[t._v("将代码复制到  新建 lib/runtime/runtime.js    最后加上, 有的话不用加")]),t._v(" "),s("p",[s("code",[t._v("module.exports = runtime;")])]),t._v(" "),s("p",[t._v("再在需要引入的页面.js 引入(不能全局引入)")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('\nimport regeneratorRuntime from "../../lib/runtime/runtime";\n')])])]),s("h2",{attrs:{id:"封装wx-request"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#封装wx-request"}},[t._v("#")]),t._v(" 封装wx.request")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("//例子\nexport const request = params => {\n    wx.showLoading({\n        title: '加载中'\n    })\n    const baseURl = \"https://api.zbztb.cn/api/public/v1/\"\n    return new Promise((reslove, reject) => {\n        wx.request({\n            ...params,\n            url: baseURl + params.url,\n            success: res => {reslove(res)},\n            fail: err => {reject(err)},\n            complete: () => {wx.hideLoading()}\n        })\n    })\n}\n")])])]),s("h2",{attrs:{id:"常用事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用事件"}},[t._v("#")]),t._v(" 常用事件")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('触底事件:\t\nonReachBottom: function () {}\n下拉刷新: 页面.json\n"enablePullDownRefresh": true,\n"backgroundTextStyle": "dark"\njs里面--\nonPullDownRefresh:function(){ }\n关闭下拉刷新窗口----\nwx.stopPullDownRefresh();\n')])])]),s("h2",{attrs:{id:"购物车相关代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#购物车相关代码"}},[t._v("#")]),t._v(" 购物车相关代码")]),t._v(" "),s("h3",{attrs:{id:"加入购物车"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#加入购物车"}},[t._v("#")]),t._v(" 加入购物车")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("wx.getStorageSync\t\t\nwx.setStorageSync\n// 1 读取缓存 --数组\nlet cart = wx.getStorageSync('cart') || [];\n// 2 查找索引,收否有该id商品\nlet index = cart.findIndex(v => v.goods_id === this.data.goodsObj.goods_id)\n    if (index === -1) { // 如果不存在索引\n      this.data.goodsObj.num = 1 // 则创建num属性\n      cart.push({ // 更新cart数组\n        goods_id: this.data.goodsObj.goods_id,\n        num: this.data.goodsObj.num\n      })\n    } else { // 存在\n      cart[index].num++\n    }\n    wx.setStorageSync('cart', cart) // 写入缓存\n")])])]),s("h3",{attrs:{id:"结算判断"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#结算判断"}},[t._v("#")]),t._v(" 结算判断")]),t._v(" "),s("h3",{attrs:{id:"获取购物车数据-遍历判断-根据check是否选中"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取购物车数据-遍历判断-根据check是否选中"}},[t._v("#")]),t._v(" 获取购物车数据, 遍历判断, 根据check是否选中")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// 监听页面显示\n  onShow: function () {\n    // 获取地址\n    let address = wx.getStorageSync('address')\n    this.setData({ address })\n    // 更新购物车\n    let cart = wx.getStorageSync('cart') || []\n    // 调用\n    this.setCart(cart)\n  },\n")])])]),s("h3",{attrs:{id:"封装方法-设置购物车状态-总数-总价-勾选"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#封装方法-设置购物车状态-总数-总价-勾选"}},[t._v("#")]),t._v(" 封装方法:   设置购物车状态: 总数 总价 勾选")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// 设置购物车状态: 总数 总价 勾选\n  setCart(cart) {\n    // 选中,总价,总数\n    let allCheck = true, totalPrice = 0, totalNum = 0\n    //cart是遍历的数据数组,cart.check有值,true或者false\n    //every返回布尔值,空数组.every返回true\n    // const allCheck = cart.length === 0 ? false : cart.every(v => v.check)\n    // 遍历\n    cart.forEach(v => {\n      if (v.check) {\n        totalPrice += v.num * v.goods_price\n        totalNum += v.num\n      } else { allCheck = false }\n    })\n    // 优化bug\n    allCheck = cart.length != 0 ? allCheck : false;\n    // 提交数据\n    this.setData({ cart, allCheck, totalPrice, totalNum })\n  }\n")])])]),s("h3",{attrs:{id:"全选框状态控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全选框状态控制"}},[t._v("#")]),t._v(" 全选框状态控制")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("//cart是遍历的数据数组,cart.check有值,true或者false\n//every返回布尔值,空数组.every返回true\nconst allCheck = cart.length === 0 ? false : cart.every(v => v.check)\n")])])]),s("h2",{attrs:{id:"sdk插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sdk插件"}},[t._v("#")]),t._v(" SDK插件")]),t._v(" "),s("p",[t._v("获取用户信息 openid")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm install -S wafer2-client-sdk\n安装之后，就可以使用 require 引用 SDK 模块:\nvar qcloud = require('./node_modules/wafer2-client-sdk/index.js');\n")])])]),s("p",[t._v("文档https://github.com/tencentyun/wafer2-client-sdk")]),t._v(" "),s("h2",{attrs:{id:"wx-navigate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wx-navigate"}},[t._v("#")]),t._v(" wx.navigate")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("open-type的值")]),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("navigateTo")]),t._v(" "),s("td",[t._v("不能跳tabbar底部导航")]),t._v(" "),s("td",[t._v("保留原页面")])]),t._v(" "),s("tr",[s("td",[t._v("redirect")]),t._v(" "),s("td",[t._v("新建跳转，不能tabbar")]),t._v(" "),s("td",[t._v("不保留原页面")])]),t._v(" "),s("tr",[s("td",[t._v("switchTab")]),t._v(" "),s("td",[t._v("可跳转到tabBar页面")]),t._v(" "),s("td",[t._v("关闭所有页面，不能携带参数")])]),t._v(" "),s("tr",[s("td",[t._v("reLaunch")]),t._v(" "),s("td",[t._v("可跳转到tabBar页面")]),t._v(" "),s("td",[t._v("关闭所有页面，能携带参数")])])])]),t._v(" "),s("h2",{attrs:{id:"项目问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目问题"}},[t._v("#")]),t._v(" 项目问题")]),t._v(" "),s("h3",{attrs:{id:"小程序使用vant"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小程序使用vant"}},[t._v("#")]),t._v(" 小程序使用vant")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm init -y\nnpm i @vant/weapp -S --production\n")])])]),s("p",[t._v("接下来:https://youzan.github.io/vant-weapp/#/quickstart")]),t._v(" "),s("h3",{attrs:{id:"setdata异步问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setdata异步问题"}},[t._v("#")]),t._v(" setData异步问题")]),t._v(" "),s("p",[t._v("数据放page外，也就是全局里吧，没其他好的解决办法")]),t._v(" "),s("p",[t._v("可能是this的原因，打印看看是不是小程序的this")])])}),[],!1,null,null,null);a.default=r.exports}}]);