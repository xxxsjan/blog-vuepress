<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>node | web-note</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Hello!">
    
    <link rel="preload" href="/assets/css/0.styles.495d9abf.css" as="style"><link rel="preload" href="/assets/js/app.7e40d91d.js" as="script"><link rel="preload" href="/assets/js/2.74dbbd17.js" as="script"><link rel="preload" href="/assets/js/28.0d4133a3.js" as="script"><link rel="prefetch" href="/assets/js/10.77e92b90.js"><link rel="prefetch" href="/assets/js/11.3a155bc5.js"><link rel="prefetch" href="/assets/js/12.57e510a0.js"><link rel="prefetch" href="/assets/js/13.6c53bfae.js"><link rel="prefetch" href="/assets/js/14.3cf9d9fc.js"><link rel="prefetch" href="/assets/js/15.0fc8a75c.js"><link rel="prefetch" href="/assets/js/16.c3659273.js"><link rel="prefetch" href="/assets/js/17.bab2e92a.js"><link rel="prefetch" href="/assets/js/18.5e9a7a92.js"><link rel="prefetch" href="/assets/js/19.4d3429e9.js"><link rel="prefetch" href="/assets/js/20.74acf710.js"><link rel="prefetch" href="/assets/js/21.06267600.js"><link rel="prefetch" href="/assets/js/22.7839cedf.js"><link rel="prefetch" href="/assets/js/23.3dce0edf.js"><link rel="prefetch" href="/assets/js/24.7fdebc9b.js"><link rel="prefetch" href="/assets/js/25.0a24ef84.js"><link rel="prefetch" href="/assets/js/26.617ba23a.js"><link rel="prefetch" href="/assets/js/27.c04c0547.js"><link rel="prefetch" href="/assets/js/29.cbcccb09.js"><link rel="prefetch" href="/assets/js/3.2366cf4f.js"><link rel="prefetch" href="/assets/js/30.6d818151.js"><link rel="prefetch" href="/assets/js/31.bdec4218.js"><link rel="prefetch" href="/assets/js/32.557433ae.js"><link rel="prefetch" href="/assets/js/33.dd58f41e.js"><link rel="prefetch" href="/assets/js/34.1bf13c14.js"><link rel="prefetch" href="/assets/js/35.54db212c.js"><link rel="prefetch" href="/assets/js/36.afda7bc0.js"><link rel="prefetch" href="/assets/js/37.ab829cda.js"><link rel="prefetch" href="/assets/js/38.daee3887.js"><link rel="prefetch" href="/assets/js/39.c2abbe56.js"><link rel="prefetch" href="/assets/js/4.0fc60aac.js"><link rel="prefetch" href="/assets/js/40.be866923.js"><link rel="prefetch" href="/assets/js/41.4f63824e.js"><link rel="prefetch" href="/assets/js/42.10ba89b1.js"><link rel="prefetch" href="/assets/js/43.0f723e0c.js"><link rel="prefetch" href="/assets/js/44.f6bc51da.js"><link rel="prefetch" href="/assets/js/45.dd0bbd15.js"><link rel="prefetch" href="/assets/js/46.f3da7dbb.js"><link rel="prefetch" href="/assets/js/47.e90ce123.js"><link rel="prefetch" href="/assets/js/48.f3be3a42.js"><link rel="prefetch" href="/assets/js/5.c8b01998.js"><link rel="prefetch" href="/assets/js/6.b63dc30b.js"><link rel="prefetch" href="/assets/js/7.ac8ece09.js"><link rel="prefetch" href="/assets/js/8.9fcf4328.js"><link rel="prefetch" href="/assets/js/9.e105d6a1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.495d9abf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">web-note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/pages/" class="nav-link">
  笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><span class="title">语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言" class="mobile-dropdown-title"><span class="title">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/chinese/" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/language/english/" class="nav-link">
  英文
</a></li></ul></div></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  去百度!
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/pages/" class="nav-link">
  笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><span class="title">语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言" class="mobile-dropdown-title"><span class="title">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/chinese/" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/language/english/" class="nav-link">
  英文
</a></li></ul></div></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  去百度!
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" class="sidebar-link">welcome</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安装环境</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>服务端</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/webnote/服务端/express.html" class="sidebar-link">express</a></li><li><a href="/webnote/服务端/node.html" class="active sidebar-link">node</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#node" class="sidebar-link">node</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#_1、配置" class="sidebar-link">1、配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#配置npm环境" class="sidebar-link">配置npm环境</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#安装淘宝镜像" class="sidebar-link">安装淘宝镜像</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#npm常见问题" class="sidebar-link">npm常见问题</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#常用命令" class="sidebar-link">常用命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#一些链接" class="sidebar-link">一些链接</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#_2、一些模块的使用" class="sidebar-link">2、一些模块的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#系统模块fs" class="sidebar-link">系统模块fs</a></li></ul></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#_3、常见问题" class="sidebar-link">3、常见问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#win10-在使用powershell时不能运行cnpm命令" class="sidebar-link">win10 在使用powershell时不能运行cnpm命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#module-exports-exports-node-require" class="sidebar-link">module.exports || exports||node-require</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#module-exports" class="sidebar-link">module.exports</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#exports-module-exports" class="sidebar-link">exports || module.exports</a></li></ul></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#export-export-default-es6-import" class="sidebar-link">export||export default ||ES6-import</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#基础命令" class="sidebar-link">基础命令</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#webpack-config-js" class="sidebar-link">webpack.config.js</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#npm-i-webpack-dev-server-d" class="sidebar-link">npm i webpack-dev-server -D</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#http-原生" class="sidebar-link">http--原生？</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#express-4" class="sidebar-link">express@4</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#app-js" class="sidebar-link">app.js</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#url模块" class="sidebar-link">url模块</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#promisify模块-读取文件" class="sidebar-link">promisify模块--读取文件</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#数据库模块" class="sidebar-link">数据库模块</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#连接池" class="sidebar-link">连接池</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#favicon" class="sidebar-link">favicon</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#req-res" class="sidebar-link">req||res</a></li></ul></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#koa2" class="sidebar-link">Koa2</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#gulp-3-9-1" class="sidebar-link">gulp@3.9.1</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#" class="sidebar-link"></a></li></ul></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#express-ejs项目" class="sidebar-link">Express+EJS项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#export-const" class="sidebar-link">export const</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#export-default" class="sidebar-link">export default</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#module-exports-function" class="sidebar-link">module.exports =  function</a></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#报错" class="sidebar-link">报错：</a></li></ul></li><li class="sidebar-sub-header"><a href="/webnote/服务端/node.html#node更新版本" class="sidebar-link">node更新版本</a></li></ul></li><li><a href="/webnote/服务端/py笔记.html" class="sidebar-link">py笔记</a></li><li><a href="/webnote/服务端/websocket.html" class="sidebar-link">websocket</a></li><li><a href="/webnote/服务端/数据库.html" class="sidebar-link">数据库</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目相关</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="node"><a href="#node" class="header-anchor">#</a> node</h2> <h1 id="node基础-配置"><a href="#node基础-配置" class="header-anchor">#</a> node基础&amp;配置</h1> <h2 id="_1、配置"><a href="#_1、配置" class="header-anchor">#</a> 1、配置</h2> <h3 id="配置npm环境"><a href="#配置npm环境" class="header-anchor">#</a> 配置npm环境</h3> <h4 id="一路默认安装成功后"><a href="#一路默认安装成功后" class="header-anchor">#</a> 一路默认安装成功后</h4> <p>①在NodeJS的主目录下，创建&quot;node_global&quot;及&quot;node_cache&quot;两个文件夹</p> <p><img src="C:%5CUsers%5Cadmin%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200219142317018.png" alt="image-20200219142317018"></p> <p>②、启动cmd，输入</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm config <span class="token keyword">set</span> prefix <span class="token string">&quot;C:\Program Files\nodejs\node_global&quot;</span>
npm config <span class="token keyword">set</span> cache <span class="token string">&quot;C:\Program Files\nodejs\node_cache&quot;</span>
#更改registry指向
npm config <span class="token keyword">set</span> registry http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org
npm config <span class="token keyword">set</span> registry https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org
#查看设置是否成功
npm config ls
#如果想还原npm仓库地址的话，只需要在把地址配置成npm镜像就可以了
npm config <span class="token keyword">set</span> registry https<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">registry.npmjs.org</span><span class="token regex-delimiter">/</span></span>
</code></pre></div><p>③、随便安装一个常用的全局模块express,</p> <p>在cmd命令行里面，输入<code>npm install express -g</code></p> <p>（“-g”意思是装到“C:\Program Files\nodejs\node_global”里面。）。</p> <p>待cmd里面的安装过程滚动完成后，会提示“express”装在了哪、版本还有它的目录结构是怎样。</p> <p>④、关闭cmd，打开系统对话框，“我的电脑”右键“属性”-“高级系统设置”-“高级”-“环境变量”。</p> <p>⑤、进入环境变量--系统变量--新建&quot;NODE_PATH&quot;</p> <p>​		--&gt;输入”C:\Program Files\nodejs\node_global\node_modules“。</p> <p><img src="C:%5CUsers%5Cadmin%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200219142827467.png" alt="image-20200219142827467"></p> <p>（ps：这一步相当关键。）
用户变量--PATH：C:\Users\admin\AppData\Roaming\npm</p> <p>​				--修改为--C:\Program Files\nodejs\node_global</p> <p>要不使用module的时候会导致输入命令出现</p> <p>“xxx不是内部或外部命令，也不是可运行的程序或批处理文件”</p> <p>这个错误。</p> <p>⑥、以上步骤都OK的话，我们可以再次开启cmd命令行，进入node，输入“require('express')”来测试下node的模块全局路径是否配置正确了。正确的话cmd会列出express的相关信息。如下图（如出错一般都是NODE_PATH的配置不对，可以检查下第④⑤步）
————————————————
原文链接：https://blog.csdn.net/shenggaofei/article/details/80361627</p> <h3 id="安装淘宝镜像"><a href="#安装淘宝镜像" class="header-anchor">#</a> 安装淘宝镜像</h3> <p>(1)</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>#管理员运行cmd
npm install <span class="token operator">-</span>g cnpm <span class="token operator">--</span>registry<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org
#卸载
npm uninstall cnpm <span class="token operator">-</span>g
</code></pre></div><p>​	因为cnpm会被安装到--C:\Program Files\nodejs\node_global\node_modules--里，</p> <p>​	但cnpm.cmd文件在--C:\Program Files\nodejs\node_global，</p> <p>​	所以系统变量path设置为--C:\Program Files\nodejs\node_global</p> <p>​	在<strong>系统变量</strong>path下添加该路径即可正常使用cnpm。</p> <p>(3)输入cnpm -v命令，查看结果!<img src="C:%5CUsers%5Cadmin%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20191216230206003.png" alt="image-20191216230206003"></p> <h3 id="npm常见问题"><a href="#npm常见问题" class="header-anchor">#</a> npm常见问题</h3> <h4 id="xxx-不是内部或外部命令"><a href="#xxx-不是内部或外部命令" class="header-anchor">#</a> 'xxx' 不是内部或外部命令</h4> <p>原因：丢包了	重新安装即可</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install	#安装<span class="token keyword">package</span>里面的全部依赖包
npm start 	#启动模块
</code></pre></div><h3 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm init <span class="token comment">//npm init --yes #初始化，生成package.json文件</span>
npm install moduleName # 安装模块
npm install moduleName@xxx # 指定版本安装
npm install <span class="token operator">-</span>g moduleName  # <span class="token operator">-</span>g 安装到全局，位置路径通过 npm config prefix 查询。
npm install <span class="token operator">-</span>save xxx   # <span class="token operator">-</span>save 安装到<span class="token keyword">package</span>文件的dependencies节点（运行依赖）。
npm install <span class="token operator">-</span>save<span class="token operator">-</span>dev xxx  # <span class="token operator">-</span>save<span class="token operator">-</span>dev 在<span class="token keyword">package</span>文件的devDependencies节点开发依赖。
npm info moduleName #查看包的信息
#查看所有全局安装的模块 
npm ls <span class="token operator">-</span>g
#通过<span class="token operator">--</span>depth参数指定输出深度
npm ls <span class="token operator">-</span>g <span class="token operator">--</span>depth<span class="token operator">=</span><span class="token number">0</span>
#查看npm默认设置（部分） 
npm config ls
#查看npm默认设置（全部） 
npm config ls <span class="token operator">-</span>l
## 卸载全局包
 npm uninstall <span class="token operator">-</span>g nodemon
 npm uninstall <span class="token operator">-</span>g vue<span class="token operator">-</span>cli
npm install <span class="token operator">-</span>g @vue<span class="token operator">/</span>cli
yarn global remove vue<span class="token operator">-</span>cli
yarn global add @vue<span class="token operator">/</span>cli
#清缓存
npm cache clean <span class="token operator">--</span>force
#安装rimraf删除node_module文件夹
npm install rimraf <span class="token operator">-</span>g
rimraf node_modules
</code></pre></div><h2 id="一些链接"><a href="#一些链接" class="header-anchor">#</a> 一些链接</h2> <h4 id="nodejs、npm安装配置步骤-windows版本-以及环境变量详解"><a href="#nodejs、npm安装配置步骤-windows版本-以及环境变量详解" class="header-anchor">#</a> NodeJS、NPM安装配置步骤(windows版本) 以及环境变量详解</h4> <p>https://blog.csdn.net/shenggaofei/article/details/80361627</p> <h4 id="web前端node-js常用命令"><a href="#web前端node-js常用命令" class="header-anchor">#</a> <a href="https://www.cnblogs.com/caoxiangwang/p/11444146.html" target="_blank" rel="noopener noreferrer">web前端node.js常用命令<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p>https://www.cnblogs.com/caoxiangwang/p/11444146.html</p> <h4 id="npm-install-报错-npm-err-errno-4048"><a href="#npm-install-报错-npm-err-errno-4048" class="header-anchor">#</a> npm install 报错(npm ERR!errno -4048)</h4> <p>https://blog.csdn.net/wanlixingzhe/article/details/81020236</p> <h4 id="使用npm踩过的坑"><a href="#使用npm踩过的坑" class="header-anchor">#</a> 使用npm踩过的坑</h4> <p>https://blog.csdn.net/taylorzun/article/details/81233404</p> <h4 id="npm安装依赖errno-4048报错"><a href="#npm安装依赖errno-4048报错" class="header-anchor">#</a> npm安装依赖errno -4048报错</h4> <p>https://www.jianshu.com/p/3d209a682d7d</p> <h4 id="node-js安装及环境配置之windows篇"><a href="#node-js安装及环境配置之windows篇" class="header-anchor">#</a> Node.js安装及环境配置之Windows篇</h4> <p>https://www.cnblogs.com/zhouyu2017/p/6485265.html</p> <h2 id="_2、一些模块的使用"><a href="#_2、一些模块的使用" class="header-anchor">#</a> 2、一些模块的使用</h2> <h3 id="系统模块fs"><a href="#系统模块fs" class="header-anchor">#</a> 系统模块fs</h3> <p>读取文件</p> <div class="language- extra-class"><pre class="language-text"><code>const fs = require('fs')
fs.readFile('相对路径','utf-8',(err,doc)=&gt;{
//err 返回对象或者null
//doc 返回结果
})
</code></pre></div><p>写入文件内容</p> <div class="language- extra-class"><pre class="language-text"><code>fs.writeFile('相对路径','写入文本或者数据',callBack)
不存在文件就创建
</code></pre></div><h4 id="路径path"><a href="#路径path" class="header-anchor">#</a> 路径Path</h4> <p><img src="C:%5CUsers%5Cadmin%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200215143815969.png" alt="image-20200215143815969"></p> <h2 id="_3、常见问题"><a href="#_3、常见问题" class="header-anchor">#</a> 3、常见问题</h2> <h3 id="win10-在使用powershell时不能运行cnpm命令"><a href="#win10-在使用powershell时不能运行cnpm命令" class="header-anchor">#</a> win10 在使用powershell时不能运行cnpm命令</h3> <p>解决淘宝镜像安装后使用不了问题
安装淘宝镜像后运行cnpm报错如下</p> <p>解决方法
以管理员身份运行powershell
执行：get-ExecutionPolicy，显示Restricted，表示状态是禁止的
然后执行set-ExecutionPolicy RemoteSigned</p> <p>输入A Enter就解决了</p> <h2 id="module-exports-exports-node-require"><a href="#module-exports-exports-node-require" class="header-anchor">#</a> module.exports || exports||node-require</h2> <h3 id="module-exports"><a href="#module-exports" class="header-anchor">#</a> module.exports</h3> <p>module变量代表当前模块。</p> <p>这个变量是一个对象，module对象会创建一个叫exports的属性</p> <p>这个属性的默认值是一个空的对象，所以只有一个</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {};
</code></pre></div><p>例子：app.js</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports.Name=&quot;我是电脑&quot;；
module.exports.Say=function(){
  console.log(&quot;我可以干任何事情&quot;)；  
}
//上边这段代码就相当于一个对象
{
  &quot;Name&quot;:&quot; 我是电脑&quot;，
  &quot;Say&quot;    :function(){
         　　console.log(&quot;我可以干任何事情&quot;)；  
     　　　}
}
</code></pre></div><p>require方法用于加载模块。</p> <div class="language- extra-class"><pre class="language-text"><code>var req=require(&quot;./app.js&quot;);
req.Name      //这个值是 &quot;我是电脑&quot;
req.Say()      //这个是直接调用Say方法，打印出来 &quot;我可以干任何事情&quot;
</code></pre></div><h3 id="exports-module-exports"><a href="#exports-module-exports" class="header-anchor">#</a> exports || module.exports</h3> <p>Node为每个模块提供一个exports变量，指向module.exports。</p> <p>exports不可以=其他，不然就指向其他对象了，这样等于切断了与module.exports的联系：</p> <div class="language- extra-class"><pre class="language-text"><code>var exports = module.exports;

//两个是相等的关系，但又不是绝对相当的关系
例如：
1.module.exports可以直接导出一个匿名函数或者一个值
module.exports=function(){
  var a=&quot;Hello World&quot;  
  return   a;
}
但是exports是不可以的，因为这样等于切断了exports与module.exports的联系。
exports=function(){           //这样写法是错误的
  var a=&quot;Hello World&quot;        //这样写法是错误的
  return   a;                //这样写法是错误的
}                            //这样写法是错误的
</code></pre></div><h2 id="export-export-default-es6-import"><a href="#export-export-default-es6-import" class="header-anchor">#</a> export||export default ||ES6-import</h2> <p>export是es6引出的语法，用于导出模块中的变量，对象，函数，类。对应的导入关键字是import。</p> <p>二者的区别有以下几点：</p> <ul><li>export default在一个模块中只能有一个，当然也可以没有。export在一个模块中可以有多个。</li> <li>export default的对象、变量、函数、类，可以没有名字。export的必须有名字。</li> <li>export default对应的import和export有所区别</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1.</span>export写法
<span class="token comment">//./aap.js</span>
<span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">&quot;我是电脑&quot;</span>；
<span class="token keyword">var</span> <span class="token function-variable function">say</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我可以干很多事&quot;</span><span class="token punctuation">)</span>；
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>name，say<span class="token punctuation">}</span>；<span class="token comment">//也可以直接一个一个的export但是必须得有名字</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> a<span class="token operator">=</span><span class="token number">1</span>；
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>　　<span class="token keyword">return</span> data<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token comment">//其他页面引入时必须这样</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>name，say<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./app.js&quot;</span>

<span class="token number">2.</span>export <span class="token keyword">default</span>
<span class="token comment">//app.js</span>
<span class="token comment">//可以没有函数名字</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>　　<span class="token keyword">return</span> data<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token comment">//这里export不能这样导出</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">const</span> a<span class="token operator">=</span><span class="token number">12</span>；
<span class="token comment">//应该这样导出</span>
<span class="token keyword">const</span> a<span class="token operator">=</span><span class="token number">12</span>；
<span class="token keyword">export</span> <span class="token keyword">default</span> a
 
<span class="token comment">//其他页面引入时必须这样</span>
<span class="token keyword">import</span> data <span class="token keyword">from</span> <span class="token string">&quot;./app.js&quot;</span>
</code></pre></div><p>总结：可以看到用export default，import语句不需要使用大括号；用export，对应的import语句需要使用大括号，一个模块只能有一个默认输出，所以export default只能使用一次。</p> <p>export因为可以多个，所以imports时需要解构，也就是要{}</p> <p>export default只能一个，所以import时随便命名from就行</p> <h1 id="webpack4"><a href="#webpack4" class="header-anchor">#</a> webpack4</h1> <p>&quot;dev&quot;: &quot;webpack-dev-server --inline --hot --env.dev&quot;,</p> <h2 id="基础命令"><a href="#基础命令" class="header-anchor">#</a> 基础命令</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm init <span class="token operator">-</span>y
cnpm i webpack <span class="token operator">-</span><span class="token constant">D</span>
cnpm i webpack<span class="token operator">-</span>cli <span class="token operator">-</span><span class="token constant">D</span>
webpack执行
</code></pre></div><h2 id="webpack-config-js"><a href="#webpack-config-js" class="header-anchor">#</a> webpack.config.js</h2> <p>配置文件</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//webpack.config.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebPackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> htmlPlugin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HtmlWebPackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname <span class="token punctuation">,</span> <span class="token string">'./src/index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//源文件</span>
  filename <span class="token operator">:</span> <span class="token string">'index.html'</span> <span class="token comment">//生成首页名词</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span><span class="token string">&quot;development||||production&quot;</span><span class="token punctuation">,</span><span class="token comment">//mode:4.x新增的</span>
  <span class="token comment">//webpack 4.x 默认打包入口文件是src&gt;index.js</span>
  <span class="token comment">//webpack 4.x 默认输出: dist &gt; main.js</span>
  plugins：<span class="token punctuation">[</span>htmlPlugin<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">//这个不可以暴露,这是ES6的API</span>
</code></pre></div><h2 id="npm-i-webpack-dev-server-d"><a href="#npm-i-webpack-dev-server-d" class="header-anchor">#</a> npm i webpack-dev-server -D</h2> <p>npm run dev 自动编译</p> <p>他的main.js在内存上不在本地,不是src里面的main.js</p> <p>json里面会多出 &quot;dev&quot;:&quot;webpack-dev-server --open(自动打开浏览器) --port 3000(改端口) --hot --progress(进度) --compress(压缩) --host 127.0.0.1(改localhost)&quot;</p> <h1 id="创建web服务器"><a href="#创建web服务器" class="header-anchor">#</a> 创建web服务器</h1> <h2 id="http-原生"><a href="#http-原生" class="header-anchor">#</a> http--原生？</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token comment">//req里有url</span>
  <span class="token comment">//res可以用来设置参数返回</span>
  res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'Content-type'</span><span class="token operator">:</span> <span class="token string">'text/html'</span> <span class="token punctuation">}</span> 
  res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'服务器启动成功，http://loacalhost:3000'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="express-4"><a href="#express-4" class="header-anchor">#</a> express@4</h2> <p>--http升级版</p> <table><thead><tr><th>express</th> <th>npm i express@4 -s</th></tr></thead> <tbody><tr><td>日志模块</td> <td>npm install express morgan</td></tr> <tr><td>数据库</td> <td>npm install mysql -s</td></tr> <tr><td>favicon</td> <td>npm install serve-favicon -s</td></tr></tbody></table> <h3 id="app-js"><a href="#app-js" class="header-anchor">#</a> app.js</h3> <div class="language-js extra-class"><pre class="language-js"><code>##app<span class="token punctuation">.</span>js<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span> 
<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;morgan&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">logger</span><span class="token punctuation">(</span><span class="token string">&quot;dev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//设置跨域访问</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Headers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;X-Requested-With&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Methods&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;PUT,POST,GET,DELETE,OPTIONS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取post请求的数据  req.body 即可获取</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span>extended<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//这个是直接归属根目录</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./routes/router'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//下面的是设置父级目录</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./routes/users'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/order'</span><span class="token punctuation">,</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./routes/order'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 配置static静态资源文件夹的父级</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span>__dirname<span class="token operator">+</span><span class="token string">&quot;/src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'服务器启动成功，http://loacalhost:3000'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> 
  
##router<span class="token punctuation">.</span>js<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span>Router
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//  res.send('hello, express')</span>
 	res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/pages/index.html'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/:id'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 用户信息</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router
</code></pre></div><h3 id="url模块"><a href="#url模块" class="header-anchor">#</a> url模块</h3> <div class="language- extra-class"><pre class="language-text"><code>const querystring = require('querystring')
querystring.parse()

const path = require('path')
const url = require('url')
const fs = require('fs')
const mime = require('mime')
app.on('request',(req,res)=&gt;{
	//拼接路径
	// url.parse(req.url,true).query 
	let pathname = url.parse(req.url).pathname
	let realPath = path.join(__dirname,'pubilc'+pathname
	let type = mime.getType(realPath) 
  //读取文件
  fs.readFile(realPath,(error,result)=&gt;{
    if(error !== null){
      res.writeHead(404,{'content-type':'text/plain;charset=utf-8'})    
      res.end('读取文件失败') 
      return
    }
    // 成功返回状态码和类型
    res.writeHead(200,{ 'content-type':type})
    res.end(result)
  })
})
</code></pre></div><h3 id="promisify模块-读取文件"><a href="#promisify模块-读取文件" class="header-anchor">#</a> promisify模块--读取文件</h3> <div class="language- extra-class"><pre class="language-text"><code>const fs = require('fs')
const promisify = promisify('util').promisify
const readFile = promisify(fs.readFile)
async function run(){
  let r1 = await readFile('./1.txt','utf-8')
  let r2 = await readFile('./2.txt','utf-8')
  let r3 = await readFile('./3.txt','utf-8')
}
run()
</code></pre></div><h3 id="数据库模块"><a href="#数据库模块" class="header-anchor">#</a> 数据库模块</h3> <div class="language-js extra-class"><pre class="language-js"><code>##mysql<span class="token punctuation">.</span>js
<span class="token keyword">const</span> mysqlModule <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mysql&quot;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>dbConfigFun<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">dbConfigFn</span><span class="token punctuation">(</span><span class="token parameter">sql<span class="token punctuation">,</span>params<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 创建连接</span>
  <span class="token keyword">let</span> db <span class="token operator">=</span> mysqlModule<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		host<span class="token operator">:</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
    port<span class="token operator">:</span><span class="token string">&quot;3306&quot;</span><span class="token punctuation">,</span>
    user<span class="token operator">:</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
    database<span class="token operator">:</span><span class="token string">&quot;demoDB&quot;</span>  
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
  db<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">//执行语句</span>
  db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span>parmas<span class="token punctuation">,</span>fn<span class="token punctuation">)</span>
	db<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

##app<span class="token punctuation">.</span>js
<span class="token keyword">const</span> dbFn <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'..dbConfigFun'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> sql1 <span class="token operator">=</span> <span class="token string">&quot;select * from tableName where usernam = ? and pwd = ?&quot;</span>
<span class="token keyword">let</span> sql2 <span class="token operator">=</span> <span class="token string">&quot;insert into tableName values (null,?,?,?)&quot;</span>
<span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">[</span>username<span class="token punctuation">,</span>password<span class="token punctuation">]</span>
dbFn<span class="token punctuation">.</span><span class="token function">dbConfigFn</span><span class="token punctuation">(</span>sql1<span class="token punctuation">,</span>params<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   <span class="token comment">// data是个数组，没查到数组长度为0</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;登录成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
#用模板字符串把sql处理好在传入参数，这种方法会有漏洞，别人可以通过sql注入：密码随便设，后面加上<span class="token string">'or 1='</span><span class="token number">1</span>'便可登录，不建议使用，所以上面传入数据的方式安全
<span class="token keyword">let</span> sql1 <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">select * from tableName where usernam = '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>usernam<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">' and pwd = '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>password<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'</span><span class="token template-punctuation string">`</span></span>
dbFn<span class="token punctuation">.</span><span class="token function">dbConfigFn</span><span class="token punctuation">(</span>sql1<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   <span class="token comment">// data是个数组，没查到数组长度为0</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;登录成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="连接池"><a href="#连接池" class="header-anchor">#</a> 连接池</h3> <p>app.js==&gt;router.js==&gt;controller.js==&gt;dao==&gt;dbPool</p> <p>控制器：我有数据</p> <p>dao：我有模型，我就是拼各种模型的</p> <p>连接池：我有做模型的方法</p> <div class="language-js extra-class"><pre class="language-js"><code>##mysqlPool<span class="token punctuation">.</span>js
<span class="token keyword">const</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> poolCig <span class="token operator">=</span><span class="token punctuation">{</span>
  host<span class="token operator">:</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
  port<span class="token operator">:</span><span class="token string">&quot;3306&quot;</span><span class="token punctuation">,</span>
  user<span class="token operator">:</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
  password<span class="token operator">:</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
  database<span class="token operator">:</span><span class="token string">&quot;demoDB&quot;</span>  
<span class="token punctuation">}</span>
cosnt dbPool <span class="token operator">=</span><span class="token punctuation">{</span>
  pool<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pool <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createPool</span><span class="token punctuation">(</span>poolCig<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">connect</span><span class="token punctuation">(</span><span class="token parameter">sql <span class="token punctuation">,</span>arr <span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pool<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>connection</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span>arr<span class="token punctuation">,</span>fn<span class="token punctuation">)</span>
      connection<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
dbPool<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> dbPool

##dao层 userDao<span class="token punctuation">.</span>js
<span class="token keyword">const</span> dbPool <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysqlPool.js'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">addUser</span><span class="token punctuation">(</span><span class="token parameter">sql<span class="token punctuation">,</span>arr<span class="token punctuation">,</span>cb</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    dbPool<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span>arr<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token comment">//dbPool 中fn直接把原本的回调(err,data)=&gt;{}替换了，所以dao层传参cb时外面要包裹一层,不包应该也没问题</span>
      <span class="token function">cb</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

##userCtrl<span class="token punctuation">.</span>js
<span class="token keyword">const</span> userDao <span class="token operator">=</span> <span class="token function">reqyire</span><span class="token punctuation">(</span><span class="token string">&quot;userDao.js&quot;</span><span class="token punctuation">)</span>
<span class="token function">adduser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  userDao<span class="token punctuation">.</span><span class="token function">addUser</span><span class="token punctuation">(</span>insert into tableName <span class="token function">values</span> <span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token operator">?</span><span class="token punctuation">,</span><span class="token operator">?</span><span class="token punctuation">,</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span>zhangsan<span class="token punctuation">,</span><span class="token number">123</span><span class="token punctuation">,</span>我是张三<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'fail'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

##indexRouter<span class="token punctuation">.</span>js
<span class="token keyword">const</span> userCtrl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;userCtrl&quot;</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span>userCtrl<span class="token punctuation">.</span><span class="token function">addUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="favicon"><a href="#favicon" class="header-anchor">#</a> favicon</h3> <div class="language- extra-class"><pre class="language-text"><code>const favicon = require(&quot;serve-favicon&quot;)
app.use(favicon(__dirname+&quot;/src/images/xxxx.jpg&quot;))
</code></pre></div><h3 id="req-res"><a href="#req-res" class="header-anchor">#</a> req||res</h3> <div class="language-js extra-class"><pre class="language-js"><code>#req
req<span class="token punctuation">.</span>headers
req<span class="token punctuation">.</span>url
req<span class="token punctuation">.</span>method  <span class="token operator">--</span>get <span class="token operator">/</span>post
<span class="token comment">//提交的表单数据 xxx是input标签里的name属性</span>
<span class="token comment">//post请求不能获取，因为他解析的url</span>
req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>xxx 
# res
res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 这个也是发送
res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&quot;/page/index.html&quot;</span><span class="token punctuation">)</span>
res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span> 
res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&quot;/pages/404.html&quot;</span><span class="token punctuation">)</span>
#<span class="token string">'content-type'</span><span class="token operator">:</span>
<span class="token string">'text/plain;charset=utf-8'</span> <span class="token operator">--</span>纯文本
text<span class="token operator">/</span>html
text<span class="token operator">/</span>css
</code></pre></div><h2 id="koa2"><a href="#koa2" class="header-anchor">#</a> Koa2</h2> <p>--express升级版</p> <p>日志模块--两个都可以用</p> <p>const morgan = require('koa-morgan')</p> <p>const Koa_Logger = require(&quot;koa-logger&quot;)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Koa <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'koa'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Koa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Koa_Logger <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;koa-logger&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//需安装依赖</span>
<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token function">Koa_Logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>logger<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8888</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'请求地址为：http://127.0.0.1:8888'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="gulp-3-9-1"><a href="#gulp-3-9-1" class="header-anchor">#</a> gulp@3.9.1</h2> <div class="language- extra-class"><pre class="language-text"><code>安装 gulp 命令行工具
npm install --global gulp-cli
cnpm init 
cnpm i gulp@3.9.1 -D
</code></pre></div><h5 id="报错primordials-is-not-defined"><a href="#报错primordials-is-not-defined" class="header-anchor">#</a> 报错primordials is not defined</h5> <p>https://blog.csdn.net/zxxzxx23/article/details/103000393</p> <p>安装gulp版本3.9.1与node版本12.4.0不兼容，需要<strong>11.15.0版本</strong></p> <h5 id="使用插件"><a href="#使用插件" class="header-anchor">#</a> 使用插件</h5> <p>cnpm i gulp-sass -D</p> <div class="language- extra-class"><pre class="language-text"><code>gulp.task(&quot;sass&quot;,function(){
return gulp.src(&quot;stylesheet/index.scss&quot;)
.pipe(sass()).pipe(gulp.dest(&quot;dist/css&quot;))
})
</code></pre></div><h3 id=""><a href="#" class="header-anchor">#</a></h3> <h2 id="express-ejs项目"><a href="#express-ejs项目" class="header-anchor">#</a> Express+EJS项目</h2> <p>EJS是Express的模板，Express的模板有很多，目前较流行的应该是Jade，不过EJS相对比较简单，结构清晰和asp之类的开发比较相似，所以我这里选用了EJS。根据Express官网的<a href="https://link.jianshu.com?t=http://www.expressjs.com.cn/advanced/developing-template-engines.html" target="_blank" rel="noopener noreferrer">模板引擎<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>介绍可以知道，模板是用来渲染html页面的，简单的说就是替换一些数据(标签)然后打包发给客户端浏览器，使用文件后缀来识别要使用哪个引擎处理(EJS后缀为.ejs)。xxx.ejs-&gt;EJS-&gt;html-&gt;浏览器。</p> <div class="language-js extra-class"><pre class="language-js"><code># 安装后我们就能使用express命令了
npm install express<span class="token operator">-</span>generator <span class="token operator">-</span>g
# 生成<span class="token constant">EJS</span>项目
  <span class="token comment">// 会以项目名创建一个文件夹，项目文件放到文件夹里面</span>
  express <span class="token operator">--</span>view<span class="token operator">=</span>ejs server
  express <span class="token operator">-</span>v ejs 项目名  
  <span class="token comment">// 把项目文件放在当前文件夹(当前文件夹非空会有警告)</span>
	express <span class="token operator">-</span>v ejs
	注：ejs表示使用ejs模板，默认是jade
npm install 
# 启动项目
npm start
</code></pre></div><p>访问<a href="https://link.jianshu.com/?t=http://www.localhost:3000/" target="_blank" rel="noopener noreferrer">http://www.localhost:3000/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>注意要加3000端口，Express默认监听的是3000端口而不是80</p> <h1 id="commonjs"><a href="#commonjs" class="header-anchor">#</a> commonJS</h1> <p>Node 应用由模块组成，采用 CommonJS 模块规范。</p> <p>每个模块有自己的变量和方法，需要一种方式去暴露和引用一个模块的变量和方法。</p> <p>require方法用于加载模块，module.exports和exports用于暴露方法。</p> <p>module.exports和exports的区别：</p> <p>（1）module.exports 初始值为一个空对象 {}；</p> <p>（2）exports 是指向的 module.exports 的引用；</p> <p>（3）require() 返回的是 module.exports 而不是 exports</p> <p>写法：exports = module.exports = somethings，即 module.exports 指向新的对象时，exports 断开了与 module.exports 的引用，那么通过 exports = module.exports 让 exports 重新指向 module.exports 即可。</p> <p>CommonJS模块的特点：</p> <p>(1）所有代码都运行在模块作用域，不会污染全局作用域。</p> <p>(2）模块可以多次加载，但是只会在第一次加载时运行一次，然后运行结果就被缓存了，以后再加载，就直接读取缓存结果。要想让模块再次运行，必须清除缓存。</p> <p>（3）模块加载的顺序，按照其在代码中出现的顺序。</p> <p>AMD规范与CommonJS的区别：</p> <p>CommonJS规范加载模块是同步的，AMD规范则是非同步加载模块，允许指定回调函数。</p> <p>由于Node.js主要用于服务器编程，模块文件一般都已经存在于本地硬盘，所以加载起来比较快，不用考虑非同步加载的方式，所以CommonJS规范比较适用。</p> <p>但是，如果是浏览器环境，要从服务器端加载模块，这时就必须采用非同步模式，因此浏览器端一般采用AMD规范。</p> <p>CommonJS模块的加载机制是，输入的是被输出的值的拷贝。也就是说，一旦输出一个值，模块内部的变化就影响不到这个值。</p> <h1 id="exports暴露"><a href="#exports暴露" class="header-anchor">#</a> exports暴露</h1> <h3 id="export-const"><a href="#export-const" class="header-anchor">#</a> export const</h3> <div class="language- extra-class"><pre class="language-text"><code>export const a = {}
export const b = {}
export const c = {}

// 导入
import {结构} from './..'
或者
import * as name from './..'
</code></pre></div><h3 id="export-default"><a href="#export-default" class="header-anchor">#</a> export default</h3> <div class="language- extra-class"><pre class="language-text"><code>export default {
	a:{},
	b(){}
}

// 导入
import namefrom './'
...名字 //展开运算引入
</code></pre></div><h3 id="module-exports-function"><a href="#module-exports-function" class="header-anchor">#</a> module.exports =  function</h3> <div class="language- extra-class"><pre class="language-text"><code>module.exports =()=&gt;{}

// 导入
const fn = require('@/..')  // fn()直接用
</code></pre></div><h1 id="安装sass"><a href="#安装sass" class="header-anchor">#</a> 安装sass</h1> <h3 id="报错"><a href="#报错" class="header-anchor">#</a> 报错：</h3> <p>Node Sass could not find a binding for your current environment: Windows 64
node sass 没找到你当前环境的绑定</p> <p>重新构建Node-sass
输入命令： npm rebuild node-sass
然后在更新一下：npm update</p> <p>期间需要连接github，可能由于网络原因造成错误</p> <h4 id="sass-loader版本过高运行错误typeerror-this-getoptions-is-not-a-function"><a href="#sass-loader版本过高运行错误typeerror-this-getoptions-is-not-a-function" class="header-anchor">#</a> sass-loader版本过高运行错误TypeError: this.getOptions is not a function</h4> <div class="language- extra-class"><pre class="language-text"><code>// 卸载
npm uninstall sass-loader
// 安装
npm i -D node-sass@4
npm i -D sass-loader@7.1.0
</code></pre></div><h2 id="node更新版本"><a href="#node更新版本" class="header-anchor">#</a> node更新版本</h2> <p>直接卸载，官网下载好对应安装包，直接安装</p> <p>再走一边上面安装流程</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/webnote/服务端/express.html" class="prev">
        express
      </a></span> <span class="next"><a href="/webnote/服务端/py笔记.html">
        py笔记
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7e40d91d.js" defer></script><script src="/assets/js/2.74dbbd17.js" defer></script><script src="/assets/js/28.0d4133a3.js" defer></script>
  </body>
</html>
